<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Tareas</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="/">Lista de Tareas</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navBar" aria-controls="navBar" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navBar">
          <ul class="navbar-nav ms-auto">
            {% if user.is_authenticated %}
              <li class="nav-item"><a class="nav-link" href="/Logout">Cerrar sesi√≥n</a></li>
              <li class="nav-item"><a class="nav-link" href="/Tareas">Tareas</a></li>
              <li class="nav-item"><a class="nav-link" href="/Tareas/Crear">Crear Tarea</a></li>
            {% else %}
              <li class="nav-item"><a class="nav-link" href="/Registro">Registro</a></li>
              <li class="nav-item"><a class="nav-link" href="/Login">Login</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <main class="container py-4">
      {% block content %}
      {% endblock %}
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll('form input:not([type=checkbox]):not([type=radio]):not([type=file]):not([type=submit]):not([type=button]):not([type=hidden]), form textarea, form select').forEach(function(el){
          if(!el.classList.contains('form-control')){
            el.classList.add('form-control','mb-2');
          }
        });

        document.querySelectorAll('form input[type=checkbox], form input[type=radio]').forEach(function(el){
          el.classList.add('form-check-input');

          var lab = document.querySelector('label[for="'+el.id+'"]');
          if(lab) lab.classList.add('form-check-label');

          var parent = el.parentElement;
          if(parent && ['P','DIV','LABEL'].indexOf(parent.tagName) !== -1){
            parent.classList.add('form-check','mb-2');
          }
        });

        document.querySelectorAll('form button[type="submit"]').forEach(function(b){
          if(!b.classList.contains('btn')) b.classList.add('btn','btn-primary');
        });
      });
    </script>
</body>
</html>